name: Display informations on the workflow run

on:
  workflow_call:
    inputs:
      event_name:
        description: The name of the event that triggered the workflow run, github.event_name
        required: true
        type: string
      branch_name:
        description: The name of the branch that triggered the workflow run, github.ref
        required: true
        type: string
      repository:
        description: The name of the repository that triggered the workflow run, github.repository
        required: true
        type: string

jobs:
  display:
    runs-on: ubuntu-latest
    steps:
    - name: Display informations
      env:
        EVENT_NAME: ${{ inputs.event_name}}
        OS_NAME: ${{ runner.os }}
        OS_ARCH: ${{runner.arch }}
        BRANCH_NAME: ${{ inputs.branch_name }}
        REPO_NAME: ${{ inputs.repository }}
      run: |
        echo "# Workflow run informations"
        echo "🎉 The job was automatically triggered by a ${{ env.EVENT_NAME }} event." >> $GITHUB_STEP_SUMMARY
        echo "🐧 This job is now running on a ${{ env.OS_NAME }} ${{env.OS_ARCH}} server hosted by GitHub!" >> $GITHUB_STEP_SUMMARY
        echo "🔎 The name of your branch is ${{ env.BRANCH_NAME }} and your repository is ${{ env.REPO_NAME }}." >> $GITHUB_STEP_SUMMARY
